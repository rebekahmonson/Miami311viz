
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Miami311Viz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Visualizing 311 data from Miami Dade County.">
    <meta name="author" content="">
     <script type="text/javascript" src="canvasjs.min.js"></script>
     <link href='http://fonts.googleapis.com/css?family=Abril+Fatface' rel='stylesheet' type='text/css'>
  

    <!-- Le styles -->

    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/lumen/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="main.css">    

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>

    <!--Charts-->

    <script src="allcharts.js"></script>

    <!--Stamen -->
    <script type="text/javascript" src="http://maps.stamen.com/js/tile.stamen.js?v1.2.4"></script>

    <!-- Marker Cluster-->
    <link rel="stylesheet" href="MarkerCluster.css" />
    <link rel="stylesheet" href="MarkerCluster.Default.css" />
    <script src="leaflet.markercluster-src.js"></script>
    <!--data-->
    <script src="data/dummydata2.js"></script>

    <script type="text/javascript">
  window.onload = function () {

    // Overall Chart
    
    var chart11 = new CanvasJS.Chart("11",
    {
      
      title: {
        // text: "Top 5 Complaints from Oct. 2013 to March 2014"
           },

      axisX:{
        title: "Types of Complaints",
       labelFontSize: 15,
        titleFontSize: 20,
        labelAngle:-30,
        labelFontColor: "brown"
       },

       axisY: {
        title: "Number of Complaints",
        interval: 5000,
        labelFontSize: 15,
        titleFontSize: 20,
        labelFontColor: "brown" 
       },
      data: [

      {
        dataPoints: [
        { x: 10, y: 26666, label: "Bulk Trash"},
        { x: 20, y: 16387,  label: "Green Waste Cart Request" },
        { x: 30, y: 5767,  label: "Blue Cart Recycling"},
        { x: 40, y: 5485,  label: "Abandoned Dog"},
        { x: 50, y: 5166,  label: "Dead/Missing Animal"},
        ]
      }
      ]
    });

    chart11.render();
    chart11 = {};

    // Bulk Trash Chart

    var chart22 = new CanvasJS.Chart("22",
    {
      
      title: {
        // text: "Bulk Trash Complaints from Oct. 2013 to March 2014"
           },

      axisX:{
        // title: "Types of Complaints",
       labelFontSize: 15,
        titleFontSize: 20,
        labelAngle:-30,
        labelFontColor: "brown"
       },

       axisY: {
        title: "Number of Complaints",
        interval: 1000,
        labelFontSize: 15,
        titleFontSize: 20,
        labelFontColor: "brown" 
       },
      data: [

      {
        dataPoints: [
        { x: 10, y: 5822, label: "Oct. 2013"},
        { x: 20, y: 4160,  label: "Nov. 2013" },
        { x: 30, y: 4406,  label: "Dec. 2013"},
        { x: 40, y: 3814,  label: "Jan. 2014"},
        { x: 50, y: 3868,  label: "Feb. 2014"},
        { x: 50, y: 4596,  label: "March 2014"}
        ]
      }
      ]
    });

    chart22.render();
    chart22 = {};

    // Green Waste Chart

    var chart33 = new CanvasJS.Chart("33",
    {
      
      title: {
        // text: "Green Waste Cart Requests from Oct. 2013 to March 2014"
           },

      axisX:{
        // title: "Types of Complaints",
       labelFontSize: 15,
        titleFontSize: 20,
        labelAngle:-30,
        labelFontColor: "brown"
       },

       axisY: {
        title: "Number of Complaints",
        interval: 500,
        labelFontSize: 15,
        titleFontSize: 20,
        labelFontColor: "brown" 
       },
      data: [

      {
        dataPoints: [
        { x: 10, y: 2877, label: "Oct. 2013"},
        { x: 20, y: 2324,  label: "Nov. 2013" },
        { x: 30, y: 2690,  label: "Dec. 2013"},
        { x: 40, y: 2907,  label: "Jan. 2014"},
        { x: 50, y: 2725,  label: "Feb. 2014"},
        { x: 50, y: 2864,  label: "March 2014"}
        ]
      }
      ]
    });

    chart33.render();
    chart33 = {};

    // Blue Cart chart

    var chart44 = new CanvasJS.Chart("44",
    {
      
      title: {
        // text: "Blue Cart Recycling Complaints from Oct. 2013 to March 2014"
           },

      axisX:{
        // title: "Types of Complaints",
       labelFontSize: 15,
        titleFontSize: 20,
        labelAngle:-30,
        labelFontColor: "brown"
       },

       axisY: {
        title: "Number of Complaints",
        interval: 250,
        labelFontSize: 15,
        titleFontSize: 20,
        labelFontColor: "brown" 
       },
      data: [

      {
        dataPoints: [
        { x: 10, y: 993, label: "Oct. 2013"},
        { x: 20, y: 695,  label: "Nov. 2013" },
        { x: 30, y: 1015,  label: "Dec. 2013"},
        { x: 40, y: 1212,  label: "Jan. 2014"},
        { x: 50, y: 913,  label: "Feb. 2014"},
        { x: 50, y: 939,  label: "March 2014"}
        ]
      }
      ]
    });

    chart44.render();
    chart44 = {};

    // Dog Chart

    var chart55 = new CanvasJS.Chart("55",
    {
      
      title: {
        // text: "Abandoned Dog Complaints from Oct. 2013 to March 2014"
           },

      axisX:{
        // title: "Types of Complaints",
       labelFontSize: 15,
        titleFontSize: 20,
        labelAngle:-30,
        labelFontColor: "brown"
       },

       axisY: {
        title: "Number of Complaints",
        interval: 200,
        labelFontSize: 15,
        titleFontSize: 20,
        labelFontColor: "brown" 
       },
      data: [

      {
        dataPoints: [
        { x: 10, y: 1106, label: "Oct. 2013"},
        { x: 20, y: 826,  label: "Nov. 2013" },
        { x: 30, y: 907,  label: "Dec. 2013"},
        { x: 40, y: 1032,  label: "Jan. 2014"},
        { x: 50, y: 777,  label: "Feb. 2014"},
        { x: 50, y: 837,  label: "March 2014"}
        ]
      }
      ]
    });

    chart55.render();
    chart55 = {};

    // Animal Chart

    var chart66 = new CanvasJS.Chart("66",
    {
      
      title: {
        // text: "Dead/Missing Animal Complaints from Oct. 2013 to March 2014"
           },

      axisX:{
        // title: "Types of Complaints",
       labelFontSize: 15,
        titleFontSize: 20,
        labelAngle:-30,
        labelFontColor: "brown"
       },

       axisY: {
        title: "Number of Complaints",
        interval: 200,
        labelFontSize: 15,
        titleFontSize: 20,
        labelFontColor: "brown" 
       },
      data: [

      {
        dataPoints: [
        { x: 10, y: 432, label: "Oct. 2013"},
        { x: 20, y: 696,  label: "Nov. 2013" },
        { x: 30, y: 958,  label: "Dec. 2013"},
        { x: 40, y: 1068,  label: "Jan. 2014"},
        { x: 50, y: 977,  label: "Feb. 2014"},
        { x: 50, y: 1035,  label: "March 2014"}
        ]
      }
      ]
    });

    chart66.render();
    chart66 = {};
  

  } //Close window onload
  </script>


    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->
`
    <!-- Fav and touch icons -->
    
  </head>

<body>
  <!--  <body role="document"> -->


    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>

          
          <a class="navbar-brand" href="#">311 Miami</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">All</a></li>
            <li><a href="#graph1">Bulk Trash</a></li>
            <li><a href="#graph2">Green Waste Cart Request</a></li>
            <li><a href="#graph3">Blue Cart Recycling</a></li>
            <li><a href="#graph4">Abandoned Dog</a></li>
            <li><a href="#graph5">Dead / Missing Animal</a></li>
         
        </div><!--/.nav-collapse -->
      </div>
    </div>

        <div class="jumbotron">
           <div id="logo"> 
      <h1>311 <span class="sub">MIAMI</span></h1> 

      </div> </div>


    <div class="container theme-showcase" role="main">

      <!-- Main jumbotron for a primary marketing message or call to action -->

     <div>
      <h3>311 is a hotline operated by Miami Dade County that allows citizens to request services and report civic disturbances, such as stray dogs, illegal dumping, and broken street lights. We analyzed all complaints phoned into the hotline from Oct. 2013 to March 2013 to understand what complaints are most common.</h3>

    </div>


    <!-- MAP -->
    <div class="row">
      <div class="col-xs-12">
      <h1>311 service requests by ZIP code</h1> 
      <div id="map" style="width: 100%; height: 300px"></div>
      </div>
    </div>
    <div class="row">
      <div class="col-m-12">
      <h1>Top 5 Service Requests from Oct. 2013 to March 2014</h1> 
      <div id="11" style="height: 400px; width:100%;"></div>
    </div>
      
    <div class="row">
      <div id="graph1" class="col-md-6">
          <h1>Bulk Trash Requests by Month</h1>
          <div id="22" style="height: 400px; width:100%;"></div> 
      </div>
      <div id="graph2" class="col-md-6">
          <h1>Green Waste Cart Request</h1> 
          <div id="33" style="height: 400px; width:100%;"></div>
      </div>
    </div>

    <div class="row">
      <div id="graph3" class="col-md-6">
        <h1>Blue Recycling Cart Request</h1> </div>
        <div id="44" style="height: 400px; width:100%;"></div>
      </div>  
      <div id="graph4" class="col-md-6">
        <h1>Abandoned Dog Report</h1> </div>
        <div id="55" style="height: 400px; width:100%;"></div>
      </div>
    </div>  
 
    <div class="row">
      <div id="graph5" class="col-md-6">
        <h1>Dead or Missing Animal Report</h1>
        <div id="66" style="height: 400px; width:45%;"></div>
      </div> 
      <div id="More information" class="col-md-6">
        <h1>Additional Information</h1>
        <p>Have a complaint? Go to  <a href="http://www.miamidade.gov/information/311.asp">Miami-Dade County 311</a> to learn how to report issues or submit a request.</p>
      </div>
    </div>

    </div> <!-- /container -->


    <!-- JavaScript-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript">


      //pull in stamen layer
      var baseLayer = new L.StamenTileLayer("toner-lite");

      //create map
      var map = L.map('map', {
        center: new L.LatLng(25.7877, -80.2241), 
        zoom: 11,
        layers: [baseLayer]
      });

    //group requests
    //var requests = L.layerGroup([bulktrash, greenwat, aurora, golden]);

    var markers = L.markerClusterGroup();
    
    for (var i = 0; i < addressPoints.length; i++) {
      var a = addressPoints[i];
      var title = a[2];
      var marker = L.marker(new L.LatLng(a[0], a[1]), { title: title });
      marker.bindPopup(title);
      markers.addLayer(marker);
    }

    map.addLayer(markers);

  </script>



      $('#sidebar').affix({
  offset: {
    top: 50
  }
});
  </script>


  </body>
</html>
